(self.webpackChunkvue_pixijs_test_task=self.webpackChunkvue_pixijs_test_task||[]).push([[732],{732:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>C});var n=e(252);const h=(0,n.HX)("data-v-b22ce018");(0,n.dD)("data-v-b22ce018");const s={ref:"container"};(0,n.Cn)();const o=h((function(t,i,e,h,o,r){return(0,n.wg)(),(0,n.j4)("div",s,null,512)}));var r=e(262),a=e(244),l=e(575),c=e.n(l),d=e(913),u=e.n(d),m=e(319),f=e.n(m),p=e(205),_=e.n(p),y=e(585),w=e.n(y),v=e(754),g=e.n(v),S=e(370);function k(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=g()(t);if(i){var h=g()(this).constructor;e=Reflect.construct(n,arguments,h)}else e=n.apply(this,arguments);return w()(this,e)}}var b=function(t){_()(e,t);var i=k(e);function e(t,n){var h;return c()(this,e),(h=i.call(this)).update=function(){if(h.currentSymbol.y>=h._mask.height){var t=h.currentSymbol;return h.currentSymbol=h.newSymbol,h.newSymbol=t,void h.off("update",h.update)}h.currentSymbol.y+=12,h.newSymbol.y+=12},h._container=new a.W2,h.container.position.set(n.x,n.y),h.currentSymbol=new a.xv(t,{font:"bold Arial",fontSize:200,fill:"#000000",align:"center",stroke:"#FFFFFF",strokeThickness:15}),h.newSymbol=new a.xv("",{font:"bold Arial",fontSize:200,fill:"#000000",align:"center",stroke:"#FFFFFF",strokeThickness:15}),h._container.addChild(h.currentSymbol),h._container.addChild(h.newSymbol),h._mask=new a.TC,h._mask.beginFill(16777215),h._mask.drawRect(0,0,h.currentSymbol.width,h.currentSymbol.height),h._mask.endFill(),h.container.addChild(h._mask),h.container.mask=h._mask,h.newSymbol.y=-h._mask.height,h}return u()(e,[{key:"changeTo",value:function(t){this.newSymbol.text=t,this.newSymbol.y=-this.newSymbol.height,this.currentSymbol.y=0,this._mask.width=this.newSymbol.width,this.on("update",this.update)}},{key:"container",get:function(){return this._container}},{key:"width",get:function(){return this.currentSymbol.width}}]),e}(function(){function t(){c()(this,t),this.emitter=new S.EventEmitter}return u()(t,[{key:"on",value:function(t,i){this.emitter.on(t,i)}},{key:"once",value:function(t,i){this.emitter.once(t,i)}},{key:"off",value:function(t,i){this.emitter.off(t,i)}},{key:"emit",value:function(t){for(var i,e=arguments.length,n=new Array(e>1?e-1:0),h=1;h<e;h++)n[h-1]=arguments[h];(i=this.emitter).emit.apply(i,[t].concat(n))}}]),t}()),T=function(){function t(i){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c()(this,t),this._hh=[],this._mm=[],this._ss=[],this._separators=[],this._startStamp=n,this._displayedTime=this._timestampToTime(n),this._container=new a.W2;var h=40;this._hh.push(new b(Math.floor(this._displayedTime.hh/10).toString(),{x:0,y:0})),this._hh.push(new b(Math.floor(this._displayedTime.hh%10).toString(),{x:this._hh[0].width,y:0}));var s=new a.xv(":",{font:"bold Arial",fontSize:200,fill:"#FFFFFF",align:"center"});s.position.set(2*this._hh[0].width,0),s.width=h,this._separators.push(s),(s=new a.xv(":",{font:"bold Arial",fontSize:200,fill:"#FFFFFF",align:"center"})).position.set(4*this._hh[0].width+h,0),s.width=h,this._separators.push(s),this._mm.push(new b(Math.floor(this._displayedTime.mm/10).toString(),{x:2*this._hh[0].width+h,y:0})),this._mm.push(new b(Math.floor(this._displayedTime.mm%10).toString(),{x:3*this._hh[0].width+h,y:0})),this._ss.push(new b(Math.floor(this._displayedTime.ss/10).toString(),{x:4*this._hh[0].width+2*h,y:0})),this._ss.push(new b(Math.floor(this._displayedTime.ss%10).toString(),{x:5*this._hh[0].width+2*h,y:0}));var o=[].concat(f()(this._hh),f()(this._mm),f()(this._ss));o.forEach((function(t){return e.container.addChild(t.container)})),this._separators.forEach((function(t){return e.container.addChild(t)})),this._container.position.set(i.x-this.container.width/2,i.y)}return u()(t,[{key:"update",value:function(){var t=this,i=(new Date).getTime(),e=Math.round(i-this._startStamp),n=this._timestampToTime(e);this._displayedTime.ss!==n.ss&&(Math.floor(this._displayedTime.ss/10)!==Math.floor(n.ss/10)&&this._ss[0].changeTo(Math.floor(n.ss/10).toString()),this._ss[1].changeTo(Math.floor(n.ss%10).toString()),this._separators.forEach((function(i){return i.alpha=t._displayedTime.ss%2}))),this._displayedTime.mm!==n.mm&&(Math.floor(this._displayedTime.mm/10)!==Math.floor(n.mm/10)&&this._mm[0].changeTo(Math.floor(n.mm/10).toString()),this._mm[1].changeTo(Math.floor(n.mm%10).toString())),this._displayedTime.hh!==n.hh&&(Math.floor(this._displayedTime.hh/10)!==Math.floor(n.hh/10)&&this._hh[0].changeTo(Math.floor(n.hh/10).toString()),this._hh[1].changeTo(Math.floor(n.hh%10).toString())),this._displayedTime=n,[].concat(f()(this._hh),f()(this._mm),f()(this._ss)).forEach((function(t){return t.emit("update")}))}},{key:"_timestampToTime",value:function(t){return{hh:Math.floor(t/1e3/60/60%24),mm:Math.floor(t/1e3/60%60),ss:Math.floor(t/1e3%60)}}},{key:"container",get:function(){return this._container}}]),t}(),F=function(){function t(i){c()(this,t),this.app=i}return u()(t,[{key:"init",value:function(t){this._clocks=new T({x:this.app.renderer.width/2,y:this.app.renderer.height/3},t);var i=new a.xv("Time have been wasted:",{font:"bold Arial",fontSize:50,fill:"#FFFFFF",align:"center"});i.position.set(this.app.renderer.width/2-i.width/2,0),this.app.stage.addChild(this._clocks.container),this.app.stage.addChild(i),this.app.ticker.add(this._update.bind(this)),this.app.ticker.maxFPS=60}},{key:"_update",value:function(t){this._clocks.update()}}]),t}(),M=e(711);const x=(0,n.aZ)({name:"Timer",setup(){const t=(0,M.bh)().getters.visitedAt,i=(0,r.iH)(null),e=new a.Mx({antialias:!0,backgroundColor:0,resolution:window.devicePixelRatio||1,width:1280,height:800});(0,n.bv)((()=>{i.value.appendChild(e.view),h.init(t)}));const h=new F(e);return{container:i}}});x.render=o,x.__scopeId="data-v-b22ce018";const C=x}}]);